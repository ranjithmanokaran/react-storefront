{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\n/**\n * This component is an example of how we can fetch user-specific data for a product.\n * In general, it's a best practice to separate cacheable elements that are shown to all\n * users from areas of the page which contained information that should only be displayed\n * to a single user, such as recently viewed products and recommendations.  This separation\n * allows us to deliver most of the content from the CDN's cache and gives us the fastest\n * possible page load time.\n */\nimport React, { useState, useEffect } from 'react';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport fetch from 'react-storefront/fetch';\nimport ProductItem from './ProductItem';\nimport Typography from \"@material-ui/core/Typography\";\nimport LoadMask from 'react-storefront/LoadMask';\nexport const styles = theme => ({\n  products: {\n    minHeight: 250,\n    position: 'relative',\n    margin: theme.spacing(0, -2),\n    overflowX: 'auto',\n    maxWidth: '100%',\n    [theme.breakpoints.down('xs')]: {\n      maxWidth: '100vw'\n    }\n  },\n  wrap: {\n    padding: theme.spacing(0, 0, 0, 2),\n    display: 'flex',\n    flexDirection: 'row',\n    width: 'max-content'\n  },\n  product: {\n    margin: theme.spacing(0, 2, 0, 0),\n    minWidth: 150\n  }\n});\nconst useStyles = makeStyles(styles, {\n  name: 'RSFSuggestedProducts'\n});\nexport default function SuggestedProducts({\n  product\n}) {\n  const classes = useStyles();\n  const {\n    0: suggestedProducts,\n    1: setSuggestedProducts\n  } = useState(null); // Fetch suggested products when the product page is mounted\n\n  useEffect(() => {\n    fetch(`/api/p/${encodeURIComponent(product.id)}/suggestions`).then(res => res.json()).then(result => setSuggestedProducts(result));\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(Typography, {\n      variant: \"h6\",\n      component: \"h3\",\n      children: \"Suggested Products\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: classes.products,\n      children: [/*#__PURE__*/_jsx(LoadMask, {\n        show: !suggestedProducts\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: classes.wrap,\n        children: suggestedProducts && suggestedProducts.map((product, i) => /*#__PURE__*/_jsx(ProductItem, {\n          product: product,\n          index: i,\n          colorSelector: false,\n          className: classes.product\n        }, i))\n      })]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}
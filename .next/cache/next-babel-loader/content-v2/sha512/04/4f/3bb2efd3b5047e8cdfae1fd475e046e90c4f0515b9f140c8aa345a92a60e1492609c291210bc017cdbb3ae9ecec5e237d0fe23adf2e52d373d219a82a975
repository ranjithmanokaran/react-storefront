{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"C:/Users/sulur/Desktop/react-storefront/ui/react/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\n/**\n * This component is an example of how we can fetch user-specific data for a product.\n * In general, it's a best practice to separate cacheable elements that are shown to all\n * users from areas of the page which contained information that should only be displayed\n * to a single user, such as recently viewed products and recommendations.  This separation\n * allows us to deliver most of the content from the CDN's cache and gives us the fastest\n * possible page load time.\n */\nimport React, { useState, useEffect } from 'react';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport fetch from 'react-storefront/fetch';\nimport ProductItem from './ProductItem';\nimport Typography from \"@material-ui/core/Typography\";\nimport LoadMask from 'react-storefront/LoadMask';\nexport var styles = function styles(theme) {\n  return {\n    products: _defineProperty({\n      minHeight: 250,\n      position: 'relative',\n      margin: theme.spacing(0, -2),\n      overflowX: 'auto',\n      maxWidth: '100%'\n    }, theme.breakpoints.down('xs'), {\n      maxWidth: '100vw'\n    }),\n    wrap: {\n      padding: theme.spacing(0, 0, 0, 2),\n      display: 'flex',\n      flexDirection: 'row',\n      width: 'max-content'\n    },\n    product: {\n      margin: theme.spacing(0, 2, 0, 0),\n      minWidth: 150\n    }\n  };\n};\nvar useStyles = makeStyles(styles, {\n  name: 'RSFSuggestedProducts'\n});\nexport default function SuggestedProducts(_ref) {\n  var product = _ref.product;\n  var classes = useStyles();\n\n  var _useState = useState(null),\n      suggestedProducts = _useState[0],\n      setSuggestedProducts = _useState[1]; // Fetch suggested products when the product page is mounted\n\n\n  useEffect(function () {\n    fetch(\"/api/p/\".concat(encodeURIComponent(product.id), \"/suggestions\")).then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      return setSuggestedProducts(result);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(Typography, {\n      variant: \"h6\",\n      component: \"h3\",\n      children: \"Suggested Products\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: classes.products,\n      children: [/*#__PURE__*/_jsx(LoadMask, {\n        show: !suggestedProducts\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: classes.wrap,\n        children: suggestedProducts && suggestedProducts.map(function (product, i) {\n          return /*#__PURE__*/_jsx(ProductItem, {\n            product: product,\n            index: i,\n            colorSelector: false,\n            className: classes.product\n          }, i);\n        })\n      })]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}
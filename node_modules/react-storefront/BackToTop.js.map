{"version":3,"sources":["../src/BackToTop.js"],"names":["styles","root","zIndex","position","bottom","right","fab","background","icon","color","useStyles","name","BackToTop","Icon","showUnderY","instantBehaviorUnderY","classes","fadeTime","size","visible","setVisible","el","onScroll","getScrollY","current","parentElement","offsetParent","window","addEventListener","passive","removeEventListener","scrollToTop","behavior","scrollTo","top","left","ArrowUpward","propTypes","PropTypes","object","elementType","number","oneOf","defaultProps","scrollY","pageYOffset"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport throttle from 'lodash/throttle'\nimport { ArrowUpward } from '@material-ui/icons'\nimport { Fab, Fade } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst styles = () => ({\n  /**\n   * Styles applied to the root element.\n   */\n  root: {\n    zIndex: 1,\n    position: 'fixed',\n    bottom: 24,\n    right: 16,\n  },\n  /**\n   * Styles applied to the floating action button element.\n   */\n  fab: {\n    background: 'rgba(0,0,0,.85)',\n    '&:hover': {\n      background: 'rgb(0,0,0)',\n    },\n  },\n  /**\n   * Styles applied to the icon element.\n   */\n  icon: {\n    color: 'white',\n  },\n})\n\nconst useStyles = makeStyles(styles, { name: 'RSFBackToTop' })\n\n/**\n * A floating action button that appears when the user scrolls down,\n * which scrolls back to the top of the page when clicked.\n */\nexport default function BackToTop({\n  Icon,\n  showUnderY,\n  instantBehaviorUnderY,\n  classes,\n  fadeTime,\n  size,\n}) {\n  const [visible, setVisible] = useState(false)\n  const el = useRef()\n  classes = useStyles({ classes })\n\n  useEffect(() => {\n    const onScroll = throttle(() => {\n      setVisible(\n        getScrollY() > showUnderY &&\n          el.current.parentElement &&\n          el.current.parentElement.offsetParent != null,\n      )\n    }, 200)\n\n    window.addEventListener('scroll', onScroll, { passive: true })\n    return () => window.removeEventListener('scroll', onScroll)\n  }, [])\n\n  const scrollToTop = () => {\n    const behavior = getScrollY() > instantBehaviorUnderY ? 'auto' : 'smooth'\n    window.scrollTo({ top: 0, left: 0, behavior })\n  }\n\n  Icon = Icon || ArrowUpward\n\n  return (\n    <div className={classes.root} ref={el}>\n      <Fade in={visible} timeout={fadeTime}>\n        <Fab className={classes.fab} size={size} onClick={scrollToTop} title=\"back to top\">\n          <Icon className={classes.icon} />\n        </Fab>\n      </Fade>\n    </div>\n  )\n}\n\nBackToTop.propTypes = {\n  /**\n   * Override or extend the styles applied to the component. See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n  /**\n   * The icon to use within the `Fab` component.\n   */\n  Icon: PropTypes.elementType,\n  /**\n   * Value which controls where along the Y position the `BackToTop` component is shown.\n   */\n  showUnderY: PropTypes.number,\n  /**\n   * When the scroll position is less than this value, the page will smoothly scroll back up. If\n   * the scroll position is more than this value, the page will immediately scroll back up.\n   */\n  instantBehaviorUnderY: PropTypes.number,\n  /**\n   * Duration of the fade in/out animation for the icon.\n   */\n  fadeTime: PropTypes.number,\n  /**\n   * Controls size of component.\n   */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n}\n\nBackToTop.defaultProps = {\n  showUnderY: 250,\n  instantBehaviorUnderY: 3000,\n  fadeTime: 320,\n  size: 'medium',\n}\n\nfunction getScrollY() {\n  return window.scrollY || window.pageYOffset\n}\n"],"file":"BackToTop.js"}
{"version":3,"sources":["../../src/hooks/useTraceUpdate.js"],"names":["useTraceUpdate","props","prev","current","changedProps","Object","entries","reduce","ps","k","v","keys","length","console","log","process","env","NODE_ENV","global"],"mappings":";;;;;;;;;;;AAAA;;AAEe,SAASA,cAAT,CAAwBC,KAAxB,EAA+B;AAC5C,MAAMC,IAAI,GAAG,mBAAO,IAAP,CAAb;AAEA,wBAAU,YAAM;AACd,QAAIA,IAAI,CAACC,OAAL,IAAgB,IAApB,EAA0B;AACxB;AAEA,UAAMC,YAAY,GAAGC,MAAM,CAACC,OAAP,CAAeL,KAAf,EAAsBM,MAAtB,CAA6B,UAACC,EAAD,QAAgB;AAAA;AAAA,YAAVC,CAAU;AAAA,YAAPC,CAAO;;AAChE,YAAIR,IAAI,CAACC,OAAL,CAAaM,CAAb,MAAoBC,CAAxB,EAA2B;AACzBF,UAAAA,EAAE,CAACC,CAAD,CAAF,GAAQ,CAACP,IAAI,CAACC,OAAL,CAAaM,CAAb,CAAD,EAAkBC,CAAlB,CAAR;AACD;;AACD,eAAOF,EAAP;AACD,OALoB,EAKlB,EALkB,CAArB;;AAOA,UAAIH,MAAM,CAACM,IAAP,CAAYP,YAAZ,EAA0BQ,MAA1B,GAAmC,CAAvC,EAA0C;AACxCC,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BV,YAA9B;AACD,OAFD,MAEO;AACLS,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACD;AACF;;AAEDZ,IAAAA,IAAI,CAACC,OAAL,GAAeF,KAAf;AACD,GAnBD;AAoBD;;AAED,IAAIc,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzCC,EAAAA,MAAM,CAAClB,cAAP,GAAwBA,cAAxB;AACD","sourcesContent":["import { useEffect, useRef } from 'react'\n\nexport default function useTraceUpdate(props) {\n  const prev = useRef(null)\n\n  useEffect(() => {\n    if (prev.current != null) {\n      // don't output during initial render\n\n      const changedProps = Object.entries(props).reduce((ps, [k, v]) => {\n        if (prev.current[k] !== v) {\n          ps[k] = [prev.current[k], v]\n        }\n        return ps\n      }, {})\n\n      if (Object.keys(changedProps).length > 0) {\n        console.log('Changed props:', changedProps)\n      } else {\n        console.log('nothing changed')\n      }\n    }\n\n    prev.current = props\n  })\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  global.useTraceUpdate = useTraceUpdate\n}\n"],"file":"useTraceUpdate.js"}